{"version":3,"file":"_page.server.ts.js","sources":["../../../../../../../../src/routes/vendor/[vendorSlug]/[productSlug]/+page.server.ts"],"sourcesContent":["import { getListTicket, getProduct } from '$lib/api/ticket';\r\nimport type { PageServerLoad } from './$types';\r\n\r\nexport const load: PageServerLoad = async ({ params, url, }) => {\r\n    const { vendorSlug, productSlug, } = params;\r\n    const childrenCount: string = url.searchParams.get('children') ?? '';\r\n    const adultCount: string = url.searchParams.get('adult') ?? '';\r\n    const infantCount: string = url.searchParams.get('infants') ?? '';\r\n    const date: string = url.searchParams.get('date') ?? '';\r\n\r\n    try {\r\n        const detail = await getProduct(vendorSlug, productSlug);\r\n\r\n        const listTicket = await getListTicket(vendorSlug, productSlug, childrenCount, adultCount, infantCount, date);\r\n\r\n        return {\r\n            maxage: 3600,\r\n            detail,\r\n            listTicket,\r\n            childrenCount: childrenCount,\r\n            adultCount: adultCount,\r\n            infantCount: infantCount,\r\n            date: date,\r\n        };\r\n    } catch (error) {\r\n        console.error('Error fetching product details:', error);\r\n        throw error;\r\n    }\r\n};\r\n"],"names":["load","async","params","url","vendorSlug","productSlug","childrenCount","searchParams","get","adultCount","infantCount","date","detail","getProduct","maxage","listTicket","getListTicket","error","console"],"mappings":"sDAGO,MAAMA,EAAuBC,OAASC,SAAQC,UAC3C,MAAAC,WAAEA,EAAYC,YAAAA,GAAiBH,EAC/BI,EAAwBH,EAAII,aAAaC,IAAI,aAAe,GAC5DC,EAAqBN,EAAII,aAAaC,IAAI,UAAY,GACtDE,EAAsBP,EAAII,aAAaC,IAAI,YAAc,GACzDG,EAAeR,EAAII,aAAaC,IAAI,SAAW,GAEjD,IACA,MAAMI,QAAeC,EAAWT,EAAYC,GAIrC,MAAA,CACHS,OAAQ,KACRF,SACAG,iBALqBC,EAAcZ,EAAYC,EAAaC,EAAeG,EAAYC,EAAaC,GAMpGL,gBACAG,aACAC,cACAC,cAECM,GAEC,MADEC,QAAAD,MAAM,kCAAmCA,GAC3CA,CACV"}